<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalklandet</title>
    <link rel="stylesheet" href="index-style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>



    <main>
        <section class="gymnasium">
            <h2>GYMNASIUM</h2>
        </section>
        <section class="folkeskole">
            <h2>FOLKESKOLE</h2>
        </section>
        <section class="bornehave">
            <h2>BØRNEHAVE</h2>
        </section>
    </main>

    <template id="uv">
        <h2></h2>
        <img>
        <p class="kort"></p>
    </template>

    <footer>
        <p>Kontakt English Deutsch</p>
        <div class="some">
            <a href="" class="fa fa-facebook"></a>
            <a href="" class="fa fa-instagram"></a>
        </div>
    </footer>


    <script>
        let undervisninger = [];
        let filter = "alle";
        document.addEventListener("DOMContentLoaded", hentJson);

        //hent JSON fil i asynkron funktion
        async function hentJson() {
            const url = "http://greif.nu/kea/2-semester/tema7/projektKalklandetWP/wordpress/wp-json/wp/v2/undervisninger";

            //henter data filen
            const myJson = await fetch(url);


            //den hentede json filen skal tolkes som json
            undervisninger = await myJson.json();

            //Kald funktionen som viser data i DOM
            visUndervisning();
        }

        function visUndervisning() {
            let dest1 = document.querySelector(".gymnasium");
            let dest2 = document.querySelector(".folkeskole");
            let dest3 = document.querySelector(".bornehave");
            let temp = document.querySelector("#uv");

            undervisninger.forEach(undervisning => {

                let klon = temp.cloneNode(true).content;
                klon.querySelector("h2").innerHTML = undervisning.title.rendered;
                klon.querySelector("img").src = undervisning.billede.guid;
                klon.querySelector(".kort").innerHTML = undervisning.beskrivelse;

                if (undervisning.kategori == "Gymnasium") {

                    dest1.appendChild(klon);
                }
                if (undervisning.kategori == "Folkeskole") {

                    dest2.appendChild(klon);
                }
                if (undervisning.kategori == "Børnehave") {

                    dest3.appendChild(klon);
                }

            })
        }

    </script>



</body>

</html>
